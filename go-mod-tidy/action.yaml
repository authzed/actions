---
name: "Go - Modules Tidy"
description: |
  This action runs `go mod tidy` over the working tree and then verifies
  that there are no differences from running the tool.
runs:
  using: "composite"
  steps:
    - name: "Run Go Mod Tidy"
      shell: "bash"
      run: "go mod tidy"
    - name: "Verify Go Mod Tidy"
      uses: "chainguard-dev/actions/nodiff@main"
      with:
        fixup-command: "go mod tidy"
